import { NgModule } from '@angular/core'
import { CommonModule } from '@angular/common'
<% if (withRouter) { %>import { RouterModule, Routes } from '@angular/router'<% } %>
    <% if (withForms) { %>import { FormsModule, ReactiveFormsModule } from '@angular/forms'<% } %>
        <% if (components && components.length> 0) { %>
          <% components.forEach(component=> { %>
            import { <%= pascalCase(component) %>Component } from './components/<%= kebabCase(component) %>/<%=
                  kebabCase(component) %>.component'
                  <% }) %>
                    <% } %>

                      <% if (withRouter && routes && routes.length> 0) { %>
                        const routes: Routes = [
                        <% routes.forEach(route=> { %>
                          {
                          path: '<%= route.path %>',
                            component: <%= pascalCase(route.component) %>Component,
                              <% if (route.data) { %>data: <%= JSON.stringify(route.data) %>,<% } %>
                                    <% if (route.canActivate) { %>canActivate: [<%= route.canActivate %>],<% } %>
                                          },
                                          <% }) %>
                                            ]
                                            <% } %>

                                              /**
                                              * <%= pascalCase(name) %>Module<% if (description) { %> - <%= description
                                                    %>
                                                    <% } %>
                                                      */
                                                      @NgModule({
                                                      declarations: [
                                                      <% if (components && components.length> 0) { %>
                                                        <% components.forEach((component, index)=> { %>
                                                          <%= pascalCase(component) %>Component<%= index <
                                                              components.length - 1 ? ',' : '' %>
                                                              <% }) %>
                                                                <% } %>
                                                                  ],
                                                                  imports: [
                                                                  CommonModule,
                                                                  <% if (withForms) { %>
                                                                    FormsModule,
                                                                    ReactiveFormsModule,
                                                                    <% } %>
                                                                      <% if (withRouter) { %>
                                                                        RouterModule.forChild(routes),
                                                                        <% } %>
                                                                          <% if (imports && imports.length> 0) { %>
                                                                            <% imports.forEach((imp, index)=> { %>
                                                                              <%= imp %>
                                                                                <%= index < imports.length - 1 ? ','
                                                                                  : '' %>
                                                                                  <% }) %>
                                                                                    <% } %>
                                                                                      ],
                                                                                      <% if (exports && exports.length>
                                                                                        0) { %>
                                                                                        exports: [
                                                                                        <% exports.forEach((exp,
                                                                                          index)=> { %>
                                                                                          <%= exp %>
                                                                                            <%= index < exports.length -
                                                                                              1 ? ',' : '' %>
                                                                                              <% }) %>
                                                                                                ],
                                                                                                <% } %>
                                                                                                  <% if (providers &&
                                                                                                    providers.length> 0)
                                                                                                    { %>
                                                                                                    providers: [
                                                                                                    <% providers.forEach((provider,
                                                                                                      index)=> { %>
                                                                                                      <%= provider %>
                                                                                                        <%= index <
                                                                                                          providers.length
                                                                                                          - 1 ? ',' : ''
                                                                                                          %>
                                                                                                          <% }) %>
                                                                                                            ]
                                                                                                            <% } %>
                                                                                                              })
                                                                                                              export
                                                                                                              class <%=
                                                                                                                pascalCase(name)
                                                                                                                %>Module
                                                                                                                { }